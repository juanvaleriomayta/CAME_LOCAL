CREATE OR REPLACE FORCE VIEW came.vw_sesion (coddetprog,nomfase,estfase,codfase,codprof,codses,nomses,decses,asistencia,participacion,fechases,caso,caso2,control,examparc,examfinal,trabajo,tipses,pesopart,pesotra,pesofinal,pesoparc,pesocaso,cantdoc,obj1ses,obj2ses,obj3ses,codare) AS
SELECT PROG_DET.CODDETPROG,FASE.NOMFASE,FASE.ESTFASE,FASE.CODFASE,SESION.CODPROF,SESION.CODSES,SESION.NOMSES,SESION.DECSES,SESION.ASISTENCIA,SESION.PARTICIPACION,TO_CHAR(SESION.FECHASES,'DD/MM/YYYY') AS FECHASES,SESION.CASO,SESION.CASO2,SESION.CONTROL,SESION.EXAMPARC,SESION.EXAMFINAL,SESION.TRABAJO,SESION.TIPSES,CONFIG_PESOS.PESOPART,CONFIG_PESOS.PESOTRA,CONFIG_PESOS.PESOFINAL,CONFIG_PESOS.PESOPARC,CONFIG_PESOS.PESOCASO,
(SELECT COUNT(*) AS CANTDOC FROM SESION_ANEXO DOC WHERE DOC.CODSES LIKE SESION.CODSES) AS CANTDOC, OBJ1SES,OBJ2SES,OBJ3SES,CODARE
FROM SESION INNER JOIN FASE ON sesion.codfase = FASE.CODFASE INNER JOIN PROG_DET ON prog_det.coddetprog = FASE.CODDETPROG INNER JOIN CONFIG_PESOS ON CONFIG_PESOS.CODFASE= FASE.CODFASE;